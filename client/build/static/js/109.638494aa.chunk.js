"use strict";(self.webpackChunkrollup_tool=self.webpackChunkrollup_tool||[]).push([[109],{7522:function(e,t,n){n.d(t,{Z:function(){return j}});var r=n(9439),a=n(2791),i=n(5987),o=n(1413),c=n(6823),l=n(5818),s=n(3721),d=n(7630),u=n(1478),f=n(184),p=["toggle"],x=(0,d.ZP)((function(e){return(0,f.jsx)(c.Z,(0,o.Z)({disableGutters:!0,elevation:0,square:!0},e))}))((function(e){var t=e.theme;return{border:"1px solid ".concat(t.palette.divider),"&:not(:last-child)":{borderBottom:0},"&:before":{display:"none"}}})),h=(0,d.ZP)((function(e){var t=e.toggle,n=(0,i.Z)(e,p);return(0,f.jsx)(l.Z,(0,o.Z)({expandIcon:(0,f.jsx)(u.Z,{sx:{fontSize:"0.9rem"},onClick:t})},n))}))((function(e){var t=e.theme;return{backgroundColor:"dark"===t.palette.mode?"rgba(255, 255, 255, .05)":"rgba(0, 0, 0, .03)",flexDirection:"row-reverse","& .MuiAccordionSummary-expandIconWrapper.Mui-expanded":{transform:"rotate(90deg)"},"& .MuiAccordionSummary-content":{marginLeft:t.spacing(1)}}})),Z=(0,d.ZP)(s.Z)((function(e){return{padding:e.theme.spacing(1),borderTop:"1px solid rgba(0, 0, 0, .125)"}})),m=n(4554),v=n(703),g=function(e){var t=e.children;return(0,f.jsx)(m.Z,{component:"div",sx:{flexGrow:1,width:"100%",mb:1},children:(0,f.jsx)(v.Z,{component:"div",sx:{width:"100%"},children:t})})},j=function(e){var t=e.summary,n=e.children,i=a.useState(!0),o=(0,r.Z)(i,2),c=o[0],l=o[1];return(0,f.jsx)(g,{children:(0,f.jsxs)(x,{expanded:c,sx:{minHeight:10},children:[(0,f.jsx)(h,{toggle:function(){l((function(e){return!e}))},children:t}),(0,f.jsx)(Z,{children:n})]})})}},9949:function(e,t,n){n.d(t,{Z:function(){return R}});var r=n(4165),a=n(5987),i=n(5861),o=n(3433),c=n(1413),l=n(9439),s=n(7047),d=n(9341),u=n(3096),f=n(7638),p=n(2866),x=n(2791),h=n(5671),Z=n(3144),m=n(136),v=n(8557),g=n(1286),j=n(3379),b=n(6711),y=n(3400),S=n(5423),w=n(1415),C=n(184);var E=n(1987),k=n(4578),I=["inEdit"],L=(0,d.Y)(E.Y0),N=function(e){var t=e.type,n=e.state,d=e.setState,N=e.columns,R=e.oldRows,A=e.loading,F=e.rowActionsRequired,G=x.useContext(k.OP),H=x.useState({}),D=(0,l.Z)(H,2),z=D[0],O=D[1],P=x.useCallback((function(e){var t=(0,u.LM)({event:e,selectedState:z,dataItemKey:E.Y0});O(t)}),[z]),M=x.useCallback((function(e){var t=e.syntheticEvent.target.checked,n={};e.dataItems.forEach((function(e){n[L(e)]=t})),O(n)}),[]),W=function(){var e=(0,i.Z)((0,r.Z)().mark((function e(i){var o,l;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.B1(t,i,n.data,R);case 2:o=e.sent,i.inEdit,l=(0,a.Z)(i,I),d((0,c.Z)((0,c.Z)({},n),{},{data:o,inEdit:n.inEdit.filter((function(e){return e.id!==l.id}))})),null===G||void 0===G||G.setOldRows(o);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),T=function(e,t,n,a,o){var c=x.useState(!1),d=(0,l.Z)(c,2),u=d[0],f=d[1];return function(c){(0,m.Z)(d,c);var l=(0,v.Z)(d);function d(){return(0,h.Z)(this,d),l.apply(this,arguments)}return(0,Z.Z)(d,[{key:"render",value:function(){var c=this.props.dataItem;return c[a]?(0,C.jsx)("td",{colSpan:"1","aria-colindex":"10","aria-selected":"false",role:"gridcell","data-grid-col-index":"9",className:w.J.DEFAULT,children:u?(0,C.jsx)(s.Z,{}):(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(y.Z,{"aria-label":"table edit save",onClick:(0,i.Z)((0,r.Z)().mark((function e(){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return f(!0),e.next=3,t(c);case 3:f(!1);case 4:case"end":return e.stop()}}),e)}))),size:"small",color:"primary",title:"Save Changes",children:(0,C.jsx)(j.Z,{color:"inherit"})}),(0,C.jsx)(y.Z,{"aria-label":"table edit discard",onClick:function(){return n(c)},size:"small",color:"primary",title:"Discard Changes",children:(0,C.jsx)(b.Z,{color:"inherit"})})]})}):(0,C.jsxs)("td",{colSpan:"1","aria-colindex":"10","aria-selected":"false",role:"gridcell","data-grid-col-index":"9",className:w.J.DEFAULT,children:[(0,C.jsx)(y.Z,{"aria-label":"table edit",onClick:function(){return e(c)},size:"small",color:"primary",title:"Edit table Column",children:(0,C.jsx)(g.Z,{color:"inherit"})}),(0,C.jsx)(y.Z,{"aria-label":"table upload specification",onClick:function(){return o(c)},size:"small",color:"primary",title:"Upload specification",children:(0,C.jsx)(S.Z,{color:"inherit"})})]})}}]),d}(x.Component)}((function(e){d((0,c.Z)((0,c.Z)({},n),{},{inEdit:[].concat((0,o.Z)(n.inEdit),[(0,f.u5)(e,E.SL)])}))}),W,(function(e){var t=n.inEdit;d((0,c.Z)((0,c.Z)({},n),{},{data:R,inEdit:t.filter((function(t){return t.id!==e.id}))}))}),"inEdit",(function(){})),U={title:"Object Actions",width:"20%",cell:T},J=F?[].concat((0,o.Z)(N.slice(0,2)),[U],(0,o.Z)(N.slice(2))):N;return(0,C.jsx)("div",{children:A?(0,C.jsx)(s.Z,{variant:"rectangular",height:"55vh"}):(0,C.jsx)(p.N,(0,c.Z)((0,c.Z)({style:{minHeight:"55vh"},cellRender:function(e){var t={className:"".concat(e.props.className," ").concat(w.J.DEFAULT)};return x.cloneElement(e,(0,c.Z)((0,c.Z)({},e.props),t),e.props.children)},expandField:"expanded",selectedField:"selected",editField:"inEdit",subItemsField:E.SL,onExpandChange:function(e){return d((0,c.Z)((0,c.Z)({},n),{},{expanded:e.value?n.expanded.filter((function(t){return t!==e.dataItem.id})):[].concat((0,o.Z)(n.expanded),[e.dataItem.id])}))},sortable:{mode:"multiple"}},n.dataState),{},{data:function(){var e=n.data,t=n.dataState,r=(0,f.j)(e,t.filter,E.SL);return function(e){var t=n.expanded;return(0,f.Gy)(e,E.SL,(function(e){return(0,f.u5)(e,E.SL,{expanded:t.includes(e.id),selected:z[L(e)],inEdit:Boolean(n.inEdit.find((function(t){return t.id===e.id})))})}))}((0,f.Xo)(r,t.sort,E.SL))}(),onSelectionChange:P,onHeaderSelectionChange:M,onDataStateChange:function(e){d((0,c.Z)((0,c.Z)({},n),{},{dataState:e.dataState}))},onItemChange:function(e){var t=e.field,r=e.value,a=e.dataItem,i=E.H6(n.data,a.id,t,r);d((0,c.Z)((0,c.Z)({},n),{},{data:i}))},columns:J}))})};N.defaultProps={type:null,rowActionsRequired:!0};var R=N},1782:function(e,t,n){n(2791);var r=n(7246),a=n(184);t.Z=function(e){var t=e.current,n=e.onChange;return(0,a.jsx)("div",{style:{display:"flex",gap:"5px",alignItems:"center",justifyContent:"center"},children:(0,a.jsx)(r.Z,{size:"small",component:"div",shape:"rounded",color:"primary",count:t+1,onChange:n})})}},2410:function(e,t,n){n.d(t,{Z:function(){return g}});var r=n(3433),a=n(1413),i=n(9439),o=n(2791),c=n(4554),l=n(9877),s=n(3950),d=n(3174),u=n(5646),f=n(2866),p=n(1987),x=n(184),h=function(e){var t,n=e.setRerender,r=e.setLoading,a=e.columns,i=e.rows,o=e.pagination,h=e.otherMenuItems,Z=(0,x.jsx)(u.j,{ref:function(e){t=e},hierarchy:!0,children:(0,x.jsx)(f.N,{data:i,columns:a})});return(0,x.jsxs)("div",{className:"table-toolbar",children:[(0,x.jsxs)(c.Z,{sx:{display:"flex",columnGap:"10px"},children:[h,(0,x.jsx)(l.Z,{style:{maxHeight:"30px",minHeight:"30px",minWidth:"30px",maxWidth:"30px"},"aria-label":"table refresh",onClick:function(e){e.preventDefault(),r(!0),n(!0),r(!1)},size:"small",color:"primary",title:"Refresh table",children:(0,x.jsx)(s.Z,{color:"inherit"})}),(0,x.jsxs)(l.Z,{style:{maxHeight:"30px",minHeight:"30px",minWidth:"30px",maxWidth:"30px"},"aria-label":"table export-excel",onClick:function(e){e.preventDefault(),r(!0),function(){var e=[];i.forEach((function(t){p.xH(t,e)}));var n=t.workbookOptions(e,a),r=0;n.sheets[0].rows.forEach((function(e){"data"===e.type&&(r%2!==0&&e.cells.forEach((function(e){e.background="#aabbcc"})),r+=1)})),n.sheets[0].columns=n.sheets[0].columns.map((function(e){return{width:e.width+40,autoWidth:!0}})),t.save(n)}(),r(!1)},size:"small",color:"primary",title:"Export to excel",children:[(0,x.jsx)(c.Z,{display:"none",children:Z}),(0,x.jsx)(d.Z,{color:"inherit"})]})]}),(0,x.jsx)(c.Z,{sx:{flexGrow:1},display:{xs:"none",sm:"block"}}),(0,x.jsx)(c.Z,{sx:{flexGrow:1},children:o})]})};h.defaultProps={pagination:"",otherMenuItems:[]};var Z=h,m=n(7047),v=function(){return(0,x.jsxs)(c.Z,{sx:{display:"flex",columnGap:"10px"},children:[(0,x.jsx)(m.Z,{width:100}),(0,x.jsx)(m.Z,{variant:"circular",width:30,height:30}),(0,x.jsx)(m.Z,{variant:"circular",width:30,height:30})]})},g=function(e){var t=o.useState((0,x.jsx)(v,{})),n=(0,i.Z)(t,2),c=n[0],l=n[1],s=o.useState({data:[],dataState:{sort:[e||{field:"name",dir:"asc"}],filter:[]},expanded:[1,2,32],inEdit:[],rollup:[]}),d=(0,i.Z)(s,2),u=d[0],f=d[1],p=o.useState({}),h=(0,i.Z)(p,2),m=h[0],g=h[1],j=o.useState([]),b=(0,i.Z)(j,2),y=b[0],S=b[1],w=o.useState(!1),C=(0,i.Z)(w,2),E=C[0],k=C[1],I=o.useState(!1),L=(0,i.Z)(I,2),N=L[0],R=L[1];return[c,u,m,y,E,N,[R,f,function(e,t,n,i,o){g(n),f((0,a.Z)((0,a.Z)({},u),{},{data:e})),S(e),l((0,x.jsx)(Z,{setRerender:k,setLoading:R,columns:(0,r.Z)(t),rows:e,pagination:i,otherMenuItems:o||null})),k(!1),R(!1)},S]]}},1109:function(e,t,n){n.r(t),n.d(t,{default:function(){return E}});var r=n(2791),a=n(6871),i=n(4165),o=n(3433),c=n(5861),l=n(9439),s=n(9281),d=n(4492),u=n(2586),f=n(8400),p=n(9980),x=n(7522),h=n(9949),Z=n(1782),m=n(7061),v=n(1987),g=n(6376),j=n(2410),b=n(5655),y=n(184),S=function(e){var t=e.type,n=(0,d.a)(),S=r.useState(1),w=(0,l.Z)(S,2),C=w[0],E=w[1],k=(0,j.Z)(),I=(0,l.Z)(k,7),L=I[0],N=I[1],R=I[3],A=I[4],F=I[5],G=I[6],H=(0,l.Z)(G,3),D=H[0],z=H[1],O=H[2],P=r.useCallback((0,c.Z)((0,i.Z)().mark((function e(){var r,c,l,s,d,x;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,30,r=m.vJ,c=localStorage.getItem(p.Z.SPACE3d),D(!0),e.next=7,u.pH(t,c,30,30*(C-1));case 7:if(l=e.sent,(0,g.np)(l)){e.next=10;break}return e.abrupt("return");case 10:s=m.jj,d=v.fN(l,s),x=(0,y.jsx)(Z.Z,{current:C,onChange:function(e,t){return E(t)}}),O(d,(0,o.Z)(r),null,x),e.next=22;break;case 16:e.prev=16,e.t0=e.catch(0),console.error(e.t0),b.Z.error(e.t0),n.logout(),a.Fg,f.Z.LOGIN;case 22:case"end":return e.stop()}}),e,null,[[0,16]])}))),[t,C,n]);return r.useEffect((function(){P()}),[A,P]),(0,y.jsx)(x.Z,{summary:L,children:(0,y.jsx)(s.Z,{component:"div",children:(0,y.jsx)(h.Z,{type:t,state:N,setState:z,oldRows:R,loading:F,columns:m.vJ})})})},w=n(3454),C=n(1157),E=function(){var e=(0,a.UO)().type;return w.vK.includes(e)?(0,y.jsx)(S,{type:e}):b.Z.warning(C.Z.TYPE_NOT_CONFIGURED_WARNING)}}}]);
//# sourceMappingURL=109.638494aa.chunk.js.map